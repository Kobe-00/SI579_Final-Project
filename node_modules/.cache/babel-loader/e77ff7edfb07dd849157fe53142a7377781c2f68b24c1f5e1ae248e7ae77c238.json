{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import MoodSelector from'./components/MoodSelector';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[selectedMood,setSelectedMood]=useState('');const[playlist,setPlaylist]=useState([]);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const[favorites,setFavorites]=useState(()=>{const saved=localStorage.getItem('favoriteSongs');return saved?JSON.parse(saved):[];});useEffect(()=>{localStorage.setItem('favoriteSongs',JSON.stringify(favorites));},[favorites]);const fetchSongs=async mood=>{setIsLoading(true);setError(null);try{const response=await fetch(`https://itunes.apple.com/search?term=${encodeURIComponent(mood)}&media=music&limit=10`);if(!response.ok)throw new Error('Failed to fetch');const data=await response.json();setPlaylist(data.results);}catch(err){console.error('Error fetching songs:',err);setError('Something went wrong while fetching songs. Please try again.');}finally{setIsLoading(false);}};const handleMoodChange=mood=>{setSelectedMood(mood);fetchSongs(mood);};const toggleFavorite=track=>{const exists=favorites.some(fav=>fav.trackId===track.trackId);if(exists){setFavorites(favorites.filter(fav=>fav.trackId!==track.trackId));}else{setFavorites([...favorites,track]);}};const isFavorite=track=>{return favorites.some(fav=>fav.trackId===track.trackId);};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDFA7 Mood-Based Music Finder\"}),/*#__PURE__*/_jsx(MoodSelector,{onSelect:handleMoodChange}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),isLoading&&/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83C\\uDFB5 Loading songs...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"playlist\",children:[/*#__PURE__*/_jsx(\"h2\",{children:selectedMood?`${selectedMood} Playlist`:'Select a Mood'}),/*#__PURE__*/_jsx(\"ul\",{children:playlist.map(track=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:track.trackName}),\" by \",track.artistName,/*#__PURE__*/_jsx(\"br\",{}),track.previewUrl&&/*#__PURE__*/_jsx(\"audio\",{controls:true,src:track.previewUrl,children:\"Your browser does not support the audio element.\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleFavorite(track),children:isFavorite(track)?'üíñ Remove Favorite':'ü§ç Add to Favorites'})]},track.trackId))})]}),favorites.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"playlist\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u2B50 Favorite Songs\"}),/*#__PURE__*/_jsx(\"ul\",{children:favorites.map(track=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:track.trackName}),\" by \",track.artistName,/*#__PURE__*/_jsx(\"br\",{}),track.previewUrl&&/*#__PURE__*/_jsx(\"audio\",{controls:true,src:track.previewUrl,children:\"Your browser does not support the audio element.\"})]},track.trackId))})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","MoodSelector","jsx","_jsx","jsxs","_jsxs","App","selectedMood","setSelectedMood","playlist","setPlaylist","isLoading","setIsLoading","error","setError","favorites","setFavorites","saved","localStorage","getItem","JSON","parse","setItem","stringify","fetchSongs","mood","response","fetch","encodeURIComponent","ok","Error","data","json","results","err","console","handleMoodChange","toggleFavorite","track","exists","some","fav","trackId","filter","isFavorite","className","children","onSelect","style","color","map","trackName","artistName","previewUrl","controls","src","onClick","length"],"sources":["/workspaces/SI579_Final-Project/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport MoodSelector from './components/MoodSelector';\n\nfunction App() {\n  const [selectedMood, setSelectedMood] = useState('');\n  const [playlist, setPlaylist] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [favorites, setFavorites] = useState(() => {\n    const saved = localStorage.getItem('favoriteSongs');\n    return saved ? JSON.parse(saved) : [];\n  });\n\n  useEffect(() => {\n    localStorage.setItem('favoriteSongs', JSON.stringify(favorites));\n  }, [favorites]);\n\n  const fetchSongs = async (mood) => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(\n        `https://itunes.apple.com/search?term=${encodeURIComponent(mood)}&media=music&limit=10`\n      );\n      if (!response.ok) throw new Error('Failed to fetch');\n      const data = await response.json();\n      setPlaylist(data.results);\n    } catch (err) {\n      console.error('Error fetching songs:', err);\n      setError('Something went wrong while fetching songs. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleMoodChange = (mood) => {\n    setSelectedMood(mood);\n    fetchSongs(mood);\n  };\n\n  const toggleFavorite = (track) => {\n    const exists = favorites.some((fav) => fav.trackId === track.trackId);\n    if (exists) {\n      setFavorites(favorites.filter((fav) => fav.trackId !== track.trackId));\n    } else {\n      setFavorites([...favorites, track]);\n    }\n  };\n\n  const isFavorite = (track) => {\n    return favorites.some((fav) => fav.trackId === track.trackId);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>üéß Mood-Based Music Finder</h1>\n        <MoodSelector onSelect={handleMoodChange} />\n\n        {error && <p style={{ color: 'red' }}>{error}</p>}\n        {isLoading && <p>üéµ Loading songs...</p>}\n\n        <div className=\"playlist\">\n          <h2>{selectedMood ? `${selectedMood} Playlist` : 'Select a Mood'}</h2>\n          <ul>\n            {playlist.map((track) => (\n              <li key={track.trackId}>\n                <strong>{track.trackName}</strong> by {track.artistName}\n                <br />\n                {track.previewUrl && (\n                  <audio controls src={track.previewUrl}>\n                    Your browser does not support the audio element.\n                  </audio>\n                )}\n                <br />\n                <button onClick={() => toggleFavorite(track)}>\n                  {isFavorite(track) ? 'üíñ Remove Favorite' : 'ü§ç Add to Favorites'}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n\n        {favorites.length > 0 && (\n          <div className=\"playlist\">\n            <h2>‚≠ê Favorite Songs</h2>\n            <ul>\n              {favorites.map((track) => (\n                <li key={track.trackId}>\n                  <strong>{track.trackName}</strong> by {track.artistName}\n                  <br />\n                  {track.previewUrl && (\n                    <audio controls src={track.previewUrl}>\n                      Your browser does not support the audio element.\n                    </audio>\n                  )}\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </header>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}